semaphore-promise-gated uses semaphore to implement a sort of
thread pool for promises
